<h1><a data-reload><i18n>timeline.title</i18n></a></h1>
<div data-ng-controller="Timeline" class="twelve cell">
	<filters>
		<li ng-repeat="type in notificationTypes.all" ng-class="{ selected: type.selected }">
			<label>
				<i class="[[type.data.toLowerCase()]] type"></i>
				<input type="checkbox" ng-model="type.selected" ng-change="type.apply()" />
				<p translate content="[[type.data.toLowerCase()]]"></p>
			</label>
		</li>
	</filters>

	<div data-ng-repeat="notification in notifications.all" class="row notification">
		<article ng-class="{ 'unread': isUnRead(notification) }">
			<div class="cell">
				<div class="row">
					<div class="avatar">
						<img class="system-avatar" ng-if="!notification.sender" />
						<img ng-src="/userbook/avatar/[[notification.sender]]?thumbnail=100x100" ng-if="notification.sender" />
					</div>
					<div class="cell horizontal-spacing">
						<p class="inline" bind-html="notification.message"></p>
					</div>
				</div>
			</div>
			<div class="cell right-magnet">
				<em class="low-importance right-magnet">[[formatDate(notification.date.$date)]]</em>
			</div>
		</article>
	</div>
</div>