<!DOCTYPE html>
<!--
 ~	Copyright © WebServices pour l'Éducation, 2014
 ~
 ~ This file is part of ENT Core. ENT Core is a versatile ENT engine based on the JVM.
 ~
 ~ This program is free software; you can redistribute it and/or modify
 ~ it under the terms of the GNU Affero General Public License as
 ~ published by the Free Software Foundation (version 3 of the License).
 ~
 ~ For the sake of explanation, any module that communicate over native
 ~ Web protocols, such as HTTP, with ENT Core is outside the scope of this
 ~ license and could be license under its own terms. This is merely considered
 ~ normal use of ENT Core, and does not fall under the heading of "covered work".
 ~
 ~ This program is distributed in the hope that it will be useful,
 ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
 ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 ~
 -->

<html>
	<head>
		<script>
		var appPrefix = 'directory';
		var routes = {
			define: function(routing){
				this.routing = routing;
			}
		};

		function Model(){}
		Model.prototype.build = function(){};
		var model = new Model();
		</script>
		<title>{{#i18n}}directory.admin.title{{/i18n}}</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script src="{{#infra}}js/jquery-1.10.2.min.js{{/infra}}" type="text/javascript"></script>
		<script src="{{#infra}}js/angular.min.js{{/infra}}" type="text/javascript"></script>
		<script src="{{#infra}}js/angular-sanitize.min.js{{/infra}}" type="text/javascript"></script>
		<script src="{{#infra}}js/angular-route.min.js{{/infra}}" type="text/javascript"></script>
		<script src="{{#infra}}js/underscore-min-1.4.4.js{{/infra}}" type="text/javascript"></script>
		<script src="{{#infra}}js/lib.js{{/infra}}" type="text/javascript"></script>
		<script src="{{#infra}}js/ui.js{{/infra}}" type="text/javascript"></script>
		<script src="{{#infra}}js/mustache.js{{/infra}}" type="text/javascript"></script>
		<script src="{{#infra}}js/humane.min.js{{/infra}}" type="text/javascript"></script>
		<script src="{{#infra}}js/angular-app.js{{/infra}}" type="text/javascript"></script>
		<script src="{{#static}}js/admin.js{{/static}}" type="text/javascript"></script>
	</head>
	<body>
		<admin-portal>
			<h1>{{#i18n}}directory.admin.header{{/i18n}}</h1>

			<p><a onclick="$.post('/directory/import', function(){ notify.info('Import terminé'); })">Générer des données de test</a></p>

			<div id="annuaire">
				<a href="api/export?id=all" id="export">{{#i18n}}directory.admin.export{{/i18n}}</a>
				<div id="display">
					<h2>{{#i18n}}directory.admin.schools{{/i18n}}</h2>
					<a href="api/ecole" call="ecole">{{#i18n}}directory.admin.see-schools{{/i18n}}</a>
					<div id="schools"></div>
					<h2>{{#i18n}}directory.admin.lost{{/i18n}}</h2>
					<a href="list/isolated" call="lost">{{#i18n}}directory.admin.see-lost{{/i18n}}</a>
					<div id="lost"></div>
				</div>
			</div>
		</admin-portal>

	</body>
</html>
