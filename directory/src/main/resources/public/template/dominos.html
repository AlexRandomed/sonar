<!--
 ~	Copyright © WebServices pour l'Éducation, 2014
 ~
 ~ This file is part of ENT Core. ENT Core is a versatile ENT engine based on the JVM.
 ~
 ~ This program is free software; you can redistribute it and/or modify
 ~ it under the terms of the GNU Affero General Public License as
 ~ published by the Free Software Foundation (version 3 of the License).
 ~
 ~ For the sake of explanation, any module that communicate over native
 ~ Web protocols, such as HTTP, with ENT Core is outside the scope of this
 ~ license and could be license under its own terms. This is merely considered
 ~ normal use of ENT Core, and does not fall under the heading of "covered work".
 ~
 ~ This program is distributed in the hope that it will be useful,
 ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
 ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 ~
 -->

<div class="dominos">
	<div class="row reduce-block-six" ng-if="(users.match(search.text).length === 0 && !users.loading) && !classrooms.match(search.text).length" translate content="noresult"></div>
	<div class="row reduce-block-six" ng-if="users.loading" translate content="loading"></div>
	<div class="item" ng-repeat="user in users.match(search.text) | limitTo:search.maxLength">
		<section class="domino" ng-class="colorFromType(user.type)">
			<div class="top" ng-click="selectUser(user)">
				<img ng-src="/userbook/avatar/[[user.id]]?thumbnail=290x290" class="fixed twelve cell" />
			</div>
			<div class="bottom">
				<div class="content">
					<a ng-click="selectUser(user)">[[user.displayName]]</a>
					<br /><span class="medium-text" translate content="directory.[[user.type.toLowerCase()]]"></span>
					<div class="mood three">
						<i class="liquid [[user.mood]]"></i>
					</div>
					<div class="bottom-locked">
						<a ng-href="/conversation/conversation#/write-mail/[[user.id]]"><i class="send-mail"></i></a>
					</div>
				</div>
			</div>
		</section>
	</div>
    <div class="item" ng-repeat="classroom in classrooms.match(search.text) | limitTo:search.maxLength">
        <section class="domino grey">
            <div class="top" ng-click="selectClassroom(classroom)">
                <img skin-src="/img/illustrations/classroom.png" class="fixed twelve cell" />
            </div>
            <div class="bottom">
                <div class="content">
                    <a ng-click="selectClassroom(classroom)">[[classroom.name]]</a>
                </div>
            </div>
        </section>
    </div>

</div>